import { defineComponent as u, computed as h, unref as t, openBlock as s, createElementBlock as O, createBlock as g, withCtx as k, createTextVNode as C, toDisplayString as i, createCommentVNode as l, createElementVNode as m, withModifiers as v, createVNode as y, normalizeClass as B } from "vue";
import { useWorkspace as N } from "@scalar/api-client/store";
import { getPointer as V } from "../../../blocks/helpers/getPointer.js";
import { useBlockProps as S } from "../../../blocks/hooks/useBlockProps.js";
import { useNavState as w } from "../../../hooks/useNavState.js";
import { useSidebar as H } from "../../../hooks/useSidebar.js";
import { isOperationDeprecated as I } from "../../../libs/operation.js";
import T from "../../Section/SectionHeaderTag.vue.js";
import $ from "../../HttpMethod/HttpMethod.vue.js";
const b = ["href"], F = /* @__PURE__ */ u({
  __name: "OperationsListItem",
  props: {
    transformedOperation: {},
    tag: {},
    collection: {},
    isCollapsed: { type: Boolean }
  },
  setup(a) {
    const { getOperationId: n } = w(), { scrollToOperation: p } = H(), c = async (e) => {
      const o = n(e, a.tag);
      p(o, !0);
    }, d = N(), { operation: r } = S({
      store: d,
      collection: a.collection,
      location: V([
        "paths",
        a.transformedOperation.path,
        a.transformedOperation.httpVerb.toLowerCase()
      ])
    }), f = h(() => {
      var e, o;
      return ((e = r.value) == null ? void 0 : e.summary) || ((o = r.value) == null ? void 0 : o.path);
    });
    return (e, o) => t(r) ? (s(), O("li", {
      key: t(n)(e.transformedOperation, e.tag),
      class: "contents"
    }, [
      e.isCollapsed ? (s(), g(t(T), {
        key: 0,
        class: "sr-only",
        level: 3
      }, {
        default: k(() => [
          C(i(f.value) + " (Hidden) ", 1)
        ]),
        _: 1
      })) : l("", !0),
      m("a", {
        class: "endpoint",
        href: `#${t(n)(e.transformedOperation, e.tag)}`,
        onClick: o[0] || (o[0] = v((D) => c(e.transformedOperation), ["prevent"]))
      }, [
        y(t($), {
          class: "endpoint-method",
          method: t(r).method
        }, null, 8, ["method"]),
        m("span", {
          class: B(["endpoint-path", {
            deprecated: t(I)(t(r))
          }])
        }, i(t(r).path), 3)
      ], 8, b)
    ])) : l("", !0);
  }
});
export {
  F as default
};
