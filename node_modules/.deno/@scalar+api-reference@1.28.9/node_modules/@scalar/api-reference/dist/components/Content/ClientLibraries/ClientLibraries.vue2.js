import { defineComponent as v, ref as I, useId as p, watch as P, unref as e, openBlock as n, createElementBlock as d, createVNode as l, withCtx as i, createElementVNode as K, Fragment as L, renderList as N, createBlock as V, createTextVNode as B, toDisplayString as o, createCommentVNode as F } from "vue";
import { TabGroup as H, TabList as S, TabPanels as w, TabPanel as E } from "@headlessui/vue";
import D from "./ClientSelector.vue.js";
import { useFeaturedHttpClients as G } from "./useFeaturedHttpClients.js";
import { useHttpClientStore as j } from "../../../stores/useHttpClientStore.js";
const q = { key: 0 }, z = ["id"], A = ["id"], W = /* @__PURE__ */ v({
  __name: "ClientLibraries",
  setup(J) {
    const {
      availableTargets: _,
      httpTargetTitle: b,
      httpClientTitle: h,
      getClientTitle: C,
      getTargetTitle: g,
      httpClient: s,
      setHttpClient: T
    } = j(), { featuredClients: r, isFeatured: y } = G(), c = I(0), u = p(), f = p();
    P(
      s,
      (t) => {
        t && (c.value = r.findIndex(
          (a) => a.targetKey === t.targetKey && a.clientKey === t.clientKey
        ));
      },
      { immediate: !0 }
    );
    function x(t) {
      const a = r[t];
      a && T(a);
    }
    return (t, a) => e(_).length ? (n(), d("div", q, [
      l(e(H), {
        manual: "",
        selectedIndex: c.value,
        onChange: x
      }, {
        default: i(() => [
          K("div", {
            id: e(u),
            class: "client-libraries-heading"
          }, " Client Libraries ", 8, z),
          l(e(S), {
            "aria-labelledby": e(u),
            class: "client-libraries-list"
          }, {
            default: i(() => [
              l(D, {
                featured: e(r),
                morePanel: e(f)
              }, null, 8, ["featured", "morePanel"])
            ]),
            _: 1
          }, 8, ["aria-labelledby"]),
          l(e(w), null, {
            default: i(() => [
              e(s) && e(y)(e(s)) ? (n(!0), d(L, { key: 0 }, N(e(r), (m, k) => (n(), V(e(E), {
                key: k,
                class: "selected-client card-footer -outline-offset-2"
              }, {
                default: i(() => [
                  B(o(e(C)(m)) + " " + o(e(g)(m)), 1)
                ]),
                _: 2
              }, 1024))), 128)) : (n(), d("div", {
                key: 1,
                id: e(f),
                class: "selected-client card-footer -outline-offset-2",
                role: "tabpanel",
                tabindex: "0"
              }, o(e(h)) + " " + o(e(b)), 9, A))
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["selectedIndex"])
    ])) : F("", !0);
  }
});
export {
  W as default
};
