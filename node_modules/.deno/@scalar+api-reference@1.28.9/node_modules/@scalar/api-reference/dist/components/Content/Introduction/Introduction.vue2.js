import { defineComponent as V, computed as s, onMounted as $, openBlock as l, createBlock as a, unref as o, withCtx as t, createVNode as r, createElementVNode as S, createTextVNode as d, toDisplayString as f, createCommentVNode as u, renderSlot as _ } from "vue";
import w from "github-slugger";
import { useConfig as N } from "../../../hooks/useConfig.js";
import B from "../../../features/DownloadLink/DownloadLink.vue.js";
import D from "./Description.vue.js";
import H from "../../Section/SectionContainer.vue.js";
import L from "../../Section/Section.vue.js";
import b from "../../Section/SectionContent.vue.js";
import C from "../../Badge/Badge.vue.js";
import A from "../../Section/SectionHeader.vue.js";
import E from "../../Section/SectionHeaderTag.vue.js";
import F from "../../Section/SectionColumns.vue.js";
import k from "../../Section/SectionColumn.vue.js";
const G = { class: "flex gap-1" }, I = { class: "sticky-cards" }, Y = /* @__PURE__ */ V({
  __name: "Introduction",
  props: {
    info: {},
    parsedSpec: {}
  },
  setup(y) {
    const i = y, p = s(
      () => {
        var e, n;
        return ((e = i.parsedSpec) == null ? void 0 : e.openapi) ?? ((n = i.parsedSpec) == null ? void 0 : n.swagger) ?? "";
      }
    ), h = new w(), T = s(() => {
      var e;
      return h.slug(((e = i.info) == null ? void 0 : e.title) ?? "");
    }), m = s(() => {
      var e, n;
      return typeof ((e = i.info) == null ? void 0 : e.version) == "string" ? i.info.version.toString().match(/^\d/) ? `v${i.info.version}` : i.info.version : typeof ((n = i.info) == null ? void 0 : n.version) == "number" ? `v${i.info.version}` : void 0;
    }), c = N();
    return $(() => {
      var e, n;
      return (n = (e = c.value).onLoaded) == null ? void 0 : n.call(e);
    }), (e, n) => (l(), a(o(H), null, {
      default: t(() => [
        r(o(L), { class: "introduction-section gap-12" }, {
          default: t(() => {
            var v, g;
            return [
              r(o(b), {
                loading: o(c).isLoading ?? (!((v = e.info) != null && v.description) && !((g = e.info) != null && g.title))
              }, {
                default: t(() => [
                  S("div", G, [
                    m.value ? (l(), a(o(C), { key: 0 }, {
                      default: t(() => [
                        d(f(m.value), 1)
                      ]),
                      _: 1
                    })) : u("", !0),
                    p.value ? (l(), a(o(C), { key: 1 }, {
                      default: t(() => [
                        d("OAS " + f(p.value), 1)
                      ]),
                      _: 1
                    })) : u("", !0)
                  ]),
                  r(o(A), {
                    loading: !e.info.title,
                    tight: ""
                  }, {
                    default: t(() => [
                      r(o(E), { level: 1 }, {
                        default: t(() => [
                          d(f(e.info.title), 1)
                        ]),
                        _: 1
                      })
                    ]),
                    _: 1
                  }, 8, ["loading"]),
                  r(B, { specTitle: T.value }, null, 8, ["specTitle"]),
                  r(o(F), null, {
                    default: t(() => [
                      r(o(k), null, {
                        default: t(() => [
                          r(D, {
                            value: e.info.description
                          }, null, 8, ["value"])
                        ]),
                        _: 1
                      }),
                      e.$slots.aside ? (l(), a(o(k), { key: 0 }, {
                        default: t(() => [
                          S("div", I, [
                            _(e.$slots, "aside", {}, void 0, !0)
                          ])
                        ]),
                        _: 3
                      })) : u("", !0)
                    ]),
                    _: 3
                  })
                ]),
                _: 3
              }, 8, ["loading"]),
              _(e.$slots, "after", {}, void 0, !0)
            ];
          }),
          _: 3
        })
      ]),
      _: 3
    }));
  }
});
export {
  Y as default
};
