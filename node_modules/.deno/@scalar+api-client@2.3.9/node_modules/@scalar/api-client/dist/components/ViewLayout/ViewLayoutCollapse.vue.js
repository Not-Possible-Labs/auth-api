import { defineComponent as m, useId as h, openBlock as s, createBlock as u, unref as t, withCtx as a, createElementVNode as l, createVNode as d, normalizeClass as p, createCommentVNode as n, renderSlot as r, createElementBlock as i, createTextVNode as y, toDisplayString as f, mergeProps as b } from "vue";
import { Disclosure as x, DisclosureButton as g, DisclosurePanel as _ } from "@headlessui/vue";
import { ScalarIcon as C } from "@scalar/components";
const v = ["aria-labelledby"], k = { class: "bg-b-2 flex items-center" }, w = { class: "text-c-1 flex flex-1 items-center gap-1.5" }, B = ["id"], V = {
  key: 0,
  class: "sr-only"
}, $ = {
  key: 0,
  class: "bg-b-2 text-c-2 text-3xs inline-flex h-4 w-4 items-center justify-center rounded-full border font-semibold"
}, D = { class: "sr-only" }, N = {
  key: 0,
  class: "ui-not-open:invisible flex items-center gap-2 pr-2"
}, P = /* @__PURE__ */ m({
  __name: "ViewLayoutCollapse",
  props: {
    defaultOpen: { type: Boolean, default: !0 },
    itemCount: { default: 0 },
    layout: { default: "client" }
  },
  setup(O) {
    const c = h();
    return (e, I) => (s(), u(t(x), {
      as: "div",
      class: "group/collapse focus-within:text-c-1 text-c-2 request-item",
      defaultOpen: e.defaultOpen,
      static: e.layout === "reference" ? !0 : void 0
    }, {
      default: a(({ open: o }) => [
        l("section", {
          "aria-labelledby": t(c),
          class: "contents"
        }, [
          l("div", k, [
            d(t(g), {
              class: p([
                "hover:text-c-1 group box-content flex max-h-8 flex-1 items-center gap-2.5 overflow-hidden px-1 py-1.5 text-sm font-medium outline-none md:px-1.5 xl:pl-2 xl:pr-0.5",
                { "!pl-3": e.layout === "reference" },
                { "group-last/collapse:border-b": e.layout === "client" }
              ]),
              disabled: e.layout === "reference"
            }, {
              default: a(() => [
                e.layout !== "reference" ? (s(), u(t(C), {
                  key: 0,
                  class: p([
                    "text-c-3 group-hover:text-c-1 ui-open:rotate-90 ui-not-open:rotate-0 rounded-px outline-offset-2 group-focus-visible:outline"
                  ]),
                  icon: "ChevronRight",
                  size: "md"
                })) : n("", !0),
                l("h2", w, [
                  l("span", {
                    id: t(c),
                    class: "contents"
                  }, [
                    r(e.$slots, "title", { open: o }),
                    o ? n("", !0) : (s(), i("span", V, " (Collapsed) "))
                  ], 8, B),
                  !o && e.itemCount ? (s(), i("span", $, [
                    y(f(e.itemCount) + " ", 1),
                    l("span", D, "Item" + f(e.itemCount === 1 ? "" : "s"), 1)
                  ])) : n("", !0)
                ])
              ]),
              _: 2
            }, 1032, ["class", "disabled"]),
            e.$slots.actions ? (s(), i("div", N, [
              r(e.$slots, "actions", { open: o })
            ])) : n("", !0)
          ]),
          d(t(_), b(e.$attrs, { class: "diclosure-panel h-full max-h-fit rounded-b" }), {
            default: a(() => [
              r(e.$slots, "default", { open: o })
            ]),
            _: 2
          }, 1040)
        ], 8, v)
      ]),
      _: 3
    }, 8, ["defaultOpen", "static"]));
  }
});
export {
  P as default
};
