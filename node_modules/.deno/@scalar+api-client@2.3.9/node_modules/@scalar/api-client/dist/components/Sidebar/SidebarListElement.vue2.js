import { defineComponent as y, resolveComponent as C, openBlock as l, createElementBlock as i, createVNode as s, normalizeClass as k, withModifiers as h, withCtx as w, createElementVNode as m, normalizeStyle as B, createCommentVNode as b, createBlock as D, unref as M, toDisplayString as R } from "vue";
import { ScalarIcon as N } from "@scalar/components";
import { useRouter as S } from "vue-router";
import z from "./SidebarListElementActions.vue.js";
const E = { class: "empty-variable-name line-clamp-1 break-all text-sm group-hover:pr-5" }, K = /* @__PURE__ */ y({
  __name: "SidebarListElement",
  props: {
    variable: {},
    warningMessage: {},
    to: {},
    isDeletable: { type: Boolean },
    isCopyable: { type: Boolean },
    isRenameable: { type: Boolean }
  },
  emits: ["delete", "colorModal", "rename"],
  setup(p, { emit: u }) {
    const n = p, a = u, r = S(), c = (e) => {
      e.metaKey ? window.open(r.resolve(n.to).href, "_blank") : r.push(n.to);
    }, d = (e) => {
      a("delete", e);
    }, v = (e) => {
      a("colorModal", e);
    }, f = (e) => {
      a("rename", e);
    };
    return (e, o) => {
      const g = C("router-link");
      return l(), i("li", null, [
        s(g, {
          class: k(["text-c-2 hover:bg-b-2 group relative flex h-8 items-center gap-1.5 rounded py-1 pr-1.5 font-medium no-underline", [e.variable.color ? "pl-1" : "pl-1.5"]]),
          exactActiveClass: "bg-b-2 text-c-1",
          role: "button",
          to: e.to,
          onClick: o[1] || (o[1] = h((t) => c(t), ["prevent"]))
        }, {
          default: w(() => [
            e.variable.color ? (l(), i("button", {
              key: 0,
              class: "hover:bg-b-3 rounded p-1.5",
              type: "button",
              onClick: o[0] || (o[0] = (t) => v(e.variable.uid))
            }, [
              m("div", {
                class: "h-2.5 w-2.5 rounded-xl",
                style: B({ backgroundColor: e.variable.color })
              }, null, 4)
            ])) : b("", !0),
            e.variable.icon ? (l(), D(M(N), {
              key: 1,
              class: "text-sidebar-c-2 size-3.5 stroke-[2.25]",
              icon: e.variable.icon
            }, null, 8, ["icon"])) : b("", !0),
            m("span", E, R(e.variable.name), 1),
            s(z, {
              isCopyable: !!e.isCopyable,
              isDeletable: !!e.isDeletable,
              isRenameable: !!e.isRenameable,
              variable: { ...e.variable, isDefault: e.variable.isDefault ?? !1 },
              warningMessage: e.warningMessage,
              onDelete: d,
              onRename: f
            }, null, 8, ["isCopyable", "isDeletable", "isRenameable", "variable", "warningMessage"])
          ]),
          _: 1
        }, 8, ["class", "to"])
      ]);
    };
  }
});
export {
  K as default
};
