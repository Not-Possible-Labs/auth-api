import { defineComponent as y, ref as T, onBeforeMount as v, onMounted as K, onBeforeUnmount as k, watch as C, computed as b, openBlock as t, createElementBlock as E, createElementVNode as S, createVNode as r, unref as a, createBlock as m, withCtx as d, KeepAlive as H, resolveDynamicComponent as N, createCommentVNode as A } from "vue";
import { addScalarClassesToHeadless as B } from "@scalar/components";
import { getThemeStyles as D } from "@scalar/themes";
import { useBreakpoints as L } from "@scalar/use-hooks/useBreakpoints";
import { useColorMode as M } from "@scalar/use-hooks/useColorMode";
import { ScalarToasts as P } from "@scalar/use-toasts";
import { RouterView as x } from "vue-router";
import V from "../../components/TopNav/TopNav.vue.js";
import { useSidebar as O } from "../../hooks/useSidebar.js";
import $ from "./MainLayout.vue.js";
import { useActiveEntities as g } from "../../store/active-entities.js";
import { APP_HOTKEYS as U } from "./hotkeys.js";
import { DEFAULT_HOTKEYS as W, handleHotKeyDown as Y } from "../../libs/hot-keys.js";
import { useWorkspace as F } from "../../store/store.js";
const I = {
  id: "scalar-client-app",
  class: "contents"
}, Q = ["innerHTML"], ie = /* @__PURE__ */ y({
  __name: "ApiClientApp",
  emits: ["newTab"],
  setup(R) {
    const p = { ...W, ...U }, s = T(null), u = (e) => {
      s.value = e;
    };
    M();
    const { activeWorkspace: n } = g(), { events: o } = F();
    v(() => B());
    const i = (e) => Y(e, o.hotKeys, { hotKeys: p }), l = (e) => {
      e && e.openCommandPalette && (e.openCommandPalette.preventDefault(), o.commandPalette.emit());
    };
    K(() => {
      window.addEventListener("keydown", i), o.hotKeys.on(l);
    }), k(() => {
      window.removeEventListener("keydown", i), o.hotKeys.off(l);
    });
    const { mediaQueries: f } = L(), { setSidebarOpen: _ } = O();
    C(f.xl, _, {
      immediate: !0
    });
    const w = b(
      () => {
        var e;
        return n.value && `<style>${D((e = n.value) == null ? void 0 : e.themeId)}</style>`;
      }
    );
    return (e, j) => {
      var c;
      return t(), E("div", I, [
        S("div", { innerHTML: w.value }, null, 8, Q),
        r(V, { openNewTab: s.value }, null, 8, ["openNewTab"]),
        (c = a(n)) != null && c.uid ? (t(), m($, { key: 0 }, {
          default: d(() => [
            r(a(x), { onNewTab: u }, {
              default: d(({ Component: h }) => [
                (t(), m(H, null, [
                  (t(), m(N(h)))
                ], 1024))
              ]),
              _: 1
            })
          ]),
          _: 1
        })) : A("", !0),
        r(a(P))
      ]);
    };
  }
});
export {
  ie as default
};
